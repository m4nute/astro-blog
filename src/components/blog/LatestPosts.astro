---
import { getCollection } from "astro:content"
import FormattedDate from "../FormattedDate.astro"
const posts = (await getCollection("blog")).sort((a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf()).slice(0, 3)
---

<h4 class="underline underline-offset-4">Articles</h4>

<ul class="list-none pl-0 mt-6 space-y-4">
  {
    posts.map((post) => (
      <li id={post.data.title} class="pl-4 pr-2 hover:bg-zinc-900 transition-colors py-3 rounded-lg" transition:name={`blog-${post.data.title}`}>
        <a href={`/blog/${post.slug}/`} class="no-underline space-y-1">
          <p class="text-sm px-1.5 py-0.5 w-fit rounded-lg">
            <FormattedDate date={post.data.pubDate} />
          </p>
          <h3 class="pl-0.5">{post.data.title}</h3>
          <p class="pl-0.5 text-sm" transition:name={`description-${post.data.title}`}>
            {post.data.description}
          </p>
        </a>
      </li>
    ))
  }
</ul>
